---
title: What zijn containers
order: 1
active: 1
goto:
 type: subject
 index: 5
---

# Wat zijn containers?

## Een lesje geschiedenis

**ONDER CONSTRUCTIE**


---

## Docker onder de motorkap

- Wanneer we het over docker hebben, spreken we over het platform docker, voor het draaien van docker containers.  
- Voor het packagen en draaien van applicaties gebruiken we [moby](https://github.com/moby/moby).  

- Moby is een collectie van tools om container programmas te maken.  
- Bijvoorbeeld de (docker) daemon, die je indirect gebruikt met het docker commando.
- Het docker commando is een eigen programma, namelijk de [docker cli](https://github.com/docker/cli).
- Andere clients zijn [docker desktop](https://www.docker.com/products/docker-desktop/) en [podman desktop](https://github.com/containers/podman-desktop).

- Dit is een diagram van het docker ecosysteem en de componenten die docker maken.
**ecosysteem diagram, ONDER CONSTRUCTIE**


---

## Wat is een kernel & linux

- Een kernel is een stuk software dat dient als de kern van een operating systeem.  
- Een kernel en een set van applicaties, zoals een desktop en een file manager, vormen samen een operating systeem.  
- Het doel van een kernel is om een abstractie te geven over verschillende hardware componenten, hardware evenementen en het verdelen van deze hardware resources naar applicaties,  
- zodat het operating systeem op verschillende hardware kan draaien & daar niet mee bezig hoeft te zijn.  
- Een populaire kernel is de linux kernel, veel servers gebruiken een operating systeem die linux als kernel gebruikt, zoals debian (een linux distrobutie / distro).

- Een functie die de linux kernel bied is namespacing.  
- Deze namespacing wordt gebruikt om programmas te isoleren, door alleen toegang tot resources in dezelfde namespace toe te staan.  
    - Bijvoorbeeld een programma in een bepaalde pid (process id) namespace ziet alleen maar programmas in dezelfde pid namespace en  
    - weet niet van het bestaan van andere programmas in andere namespaces.  
    - Een manier om naar linux namespaces te kijken, is om elke namespace als een soort eigen geisoleerde wereld te zien.
    - Deze technologie is waar runc en andere container technologieeen op bouwen.  
    - Andere linux kernel componenten met namespacing zijn netwerken en filesystemen.
- Een andere functionaliteit die linux heeft is cgroups,  
    - waarbij je programmas toegang tot hardware resources kan limiteren,  
    - zoals bijvoorbeeld cpu tijd, geheugen (ram) of io snelheid.


---

## Docker op windows

- Docker is niet platform onafhankelijk, dus om op een platform te draaien  
- die niet alle functionaliteit biedt voor runc (en dus docker) heb je een virtuele machine nodig.  
- Windows heeft daar een oplossing voor genaamd wsl, het windows subsystem for linux.  
- Dat is dus eigenlijk een virtuele machine met extra integratie en configuratie.  
- Dit is handig voor development, want dan lijkt je development opstelling zo veel mogelijk op die van de productie server,  
- want server applicaties draaien in productie vrijwel altijd op linux (debian, ubuntu).

- Er is wel een performance probleem met mounting een windows filesysteem in wsl (filesysteem cachen).  
- Dat kan grootte performance problemen veroorzaken voor veel kleine files, zoals php, javascript packages en databases.  
- [meer informatie](https://github.com/microsoft/WSL/issues/4197#issuecomment-604592340)
