---
title: Virtualizatie
order: 1
active: 1
goto:
 type: subject
 index: 3
---

# Virtualizatie

Virtualizatie is een computer in een computer draaien door de hardware na te bootsen met software.
Zo'n collectie van virtuale hardware zoals een timer, een virtuele cpu en een virtueel scherm wordt een virtuele machine (vm) genoemd.
Op die virtuele hardware kan je net zoals op een echte computer (bare metal) een operating systeem installeren.
Dat operating systeem in de vm wordt een guest genoemd en de machine waarop de vm draaid wordt de host machine genoemd.


## Hypervisor

Die virtuele hardware creeen & het draaien van vms wordt gedaan door een hypervisor.
Je hebt 2 soorten hypervisors
type-1:
    Dit is een hypervisor die op de bare metal draait.
    Xen geeft 1 vm privilege geeft om met de hypervisor te comminuceren, die vm met privileges wordt dom-0 genoemd
    voorbeelden van type-1 hypervisors zijn de [xen hypervisor](https://xenproject.org) en de [nova microhypervisor](https://github.com/udosteinberg/NOVA)



**TODO** find place for user facing software
Software die gebruikt wordt om machines te gebruiken zijn [virtualbox](https://www.virtualbox.org/) en [virt-manager](https://virt-manager.org/)
virtualbox is een manager en hypervisor
virt-manager is een client voor libvirt die [qemu](https://www.qemu.org/) gebruikt

Virtualizatie wordt gebruikt door cloud providers om virtuele machine en containers aan te bieden.



## Pros
- Isolatie van het host operating systeem.
    - Vms worden gebruikt voor malware analyse.


## Cons
- Het virtualizeren van een heel operating systeem is inefficient en kost veel resources.
- Hardware gpu acceleratie kan niet gedeeld worden zoals een cpu (multiplexen):
    - Als je 1 gpu hebt moet je kiezen of je die aan de host of aan de guest machine geeft.
- Het managen van vms zonder externe tooling kan wat moeizaam zijn
- Het opstarten en stoppen van een heel operating systeem is langzaam (minimaal 5 seconden) vergeleken met normale applicaties
- Een aantal applicaties werken niet door attestatie,
  waarbij de hardware wordt gecheckt of er geknoeit kan worden met de applicaties.
  [Trusted computing](https://en.wikipedia.org/wiki/Trusted_Computing?lang=en)  
  Een virtuele machine haalt zo'n soort test niet.  
  Voorbeelden zijn drm (netflix videos) en android safetynet (bankier apps),
  deze applicaties kan je niet gemakkelijk in virtuele machines draaien  
